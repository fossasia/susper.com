{"version":3,"file":"view_container.js","sourceRoot":"","sources":["../../../../../modules/@angular/core/src/linker/view_container.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Injector} from '../di/injector';\nimport {isPresent} from '../facade/lang';\n\nimport {ElementRef} from './element_ref';\nimport {QueryList} from './query_list';\nimport {AppView} from './view';\nimport {ViewContainerRef_} from './view_container_ref';\nimport {ViewType} from './view_type';\n/**\n *  A ViewContainer is created for elements that have a ViewContainerRef\n  * to keep track of the nested views.\n */\nexport class ViewContainer {\npublic nestedViews: AppView<any>[];\npublic projectedViews: AppView<any>[];\n/**\n * @param {?} index\n * @param {?} parentIndex\n * @param {?} parentView\n * @param {?} nativeElement\n */\nconstructor(\npublic index: number,\npublic parentIndex: number,\npublic parentView: AppView<any>,\npublic nativeElement: any) {}\n/**\n * @return {?}\n */\nget elementRef(): ElementRef { return new ElementRef(this.nativeElement); }\n/**\n * @return {?}\n */\nget vcRef(): ViewContainerRef_ { return new ViewContainerRef_(this); }\n/**\n * @return {?}\n */\nget parentInjector(): Injector { return this.parentView.injector(this.parentIndex); }\n/**\n * @return {?}\n */\nget injector(): Injector { return this.parentView.injector(this.index); }\n/**\n * @param {?} throwOnChange\n * @return {?}\n */\ndetectChangesInNestedViews(throwOnChange: boolean): void {\n    if (this.nestedViews) {\n      for (let /** @type {?} */ i = 0; i < this.nestedViews.length; i++) {\n        this.nestedViews[i].detectChanges(throwOnChange);\n      }\n    }\n  }\n/**\n * @return {?}\n */\ndestroyNestedViews(): void {\n    if (this.nestedViews) {\n      for (let /** @type {?} */ i = 0; i < this.nestedViews.length; i++) {\n        this.nestedViews[i].destroy();\n      }\n    }\n  }\n/**\n * @param {?} cb\n * @param {?} c\n * @return {?}\n */\nvisitNestedViewRootNodes<C>(cb: (node: any, ctx: C) => void, c: C): void {\n    if (this.nestedViews) {\n      for (let /** @type {?} */ i = 0; i < this.nestedViews.length; i++) {\n        this.nestedViews[i].visitRootNodesInternal(cb, c);\n      }\n    }\n  }\n/**\n * @param {?} nestedViewClass\n * @param {?} callback\n * @return {?}\n */\nmapNestedViews(nestedViewClass: any, callback: Function): any[] {\n    const /** @type {?} */ result: any[] = [];\n    if (this.nestedViews) {\n      for (let /** @type {?} */ i = 0; i < this.nestedViews.length; i++) {\n        const /** @type {?} */ nestedView = this.nestedViews[i];\n        if (nestedView.clazz === nestedViewClass) {\n          result.push(callback(nestedView));\n        }\n      }\n    }\n    if (this.projectedViews) {\n      for (let /** @type {?} */ i = 0; i < this.projectedViews.length; i++) {\n        const /** @type {?} */ projectedView = this.projectedViews[i];\n        if (projectedView.clazz === nestedViewClass) {\n          result.push(callback(projectedView));\n        }\n      }\n    }\n    return result;\n  }\n/**\n * @param {?} view\n * @param {?} currentIndex\n * @return {?}\n */\nmoveView(view: AppView<any>, currentIndex: number) {\n    const /** @type {?} */ previousIndex = this.nestedViews.indexOf(view);\n    if (view.type === ViewType.COMPONENT) {\n      throw new Error(`Component views can't be moved!`);\n    }\n    let /** @type {?} */ nestedViews = this.nestedViews;\n    if (nestedViews == null) {\n      nestedViews = [];\n      this.nestedViews = nestedViews;\n    }\n    nestedViews.splice(previousIndex, 1);\n    nestedViews.splice(currentIndex, 0, view);\n    const /** @type {?} */ prevView = currentIndex > 0 ? nestedViews[currentIndex - 1] : null;\n    view.moveAfter(this, prevView);\n  }\n/**\n * @param {?} view\n * @param {?} viewIndex\n * @return {?}\n */\nattachView(view: AppView<any>, viewIndex: number) {\n    if (view.type === ViewType.COMPONENT) {\n      throw new Error(`Component views can't be moved!`);\n    }\n    let /** @type {?} */ nestedViews = this.nestedViews;\n    if (nestedViews == null) {\n      nestedViews = [];\n      this.nestedViews = nestedViews;\n    }\n    // perf: array.push is faster than array.splice!\n    if (viewIndex >= nestedViews.length) {\n      nestedViews.push(view);\n    } else {\n      nestedViews.splice(viewIndex, 0, view);\n    }\n    const /** @type {?} */ prevView = viewIndex > 0 ? nestedViews[viewIndex - 1] : null;\n    view.attachAfter(this, prevView);\n  }\n/**\n * @param {?} viewIndex\n * @return {?}\n */\ndetachView(viewIndex: number): AppView<any> {\n    const /** @type {?} */ view = this.nestedViews[viewIndex];\n    // perf: array.pop is faster than array.splice!\n    if (viewIndex >= this.nestedViews.length - 1) {\n      this.nestedViews.pop();\n    } else {\n      this.nestedViews.splice(viewIndex, 1);\n    }\n    if (view.type === ViewType.COMPONENT) {\n      throw new Error(`Component views can't be moved!`);\n    }\n    view.detach();\n    return view;\n  }\n}\n\nfunction ViewContainer_tsickle_Closure_declarations() {\n /** @type {?} */\nViewContainer.prototype.nestedViews;\n /** @type {?} */\nViewContainer.prototype.projectedViews;\n /** @type {?} */\nViewContainer.prototype.index;\n /** @type {?} */\nViewContainer.prototype.parentIndex;\n /** @type {?} */\nViewContainer.prototype.parentView;\n /** @type {?} */\nViewContainer.prototype.nativeElement;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}